

//Generated by Kenshin
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Stump.Core.IO;

namespace Stump.DofusProtocol.Types
{
    public class FriendOnlineInformations : FriendInformations
    {
        public const short Id = 476;
        public override short TypeId
        {
            get { return Id; }
        }
        
        public bool sex;
        public bool havenBagShared;
        public ulong playerId;
        public string playerName;
        public ushort level;
        public sbyte alignmentSide;
        public sbyte breed;
        public Types.GuildInformations guildInfo;
        public ushort moodSmileyId;
        public Types.PlayerStatus status;
        
        public FriendOnlineInformations()
        {
        }
        
        public FriendOnlineInformations(int accountId, Types.AccountTagInformation accountTag, sbyte playerState, ushort lastConnection, int achievementPoints, short leagueId, int ladderPosition, bool sex, bool havenBagShared, ulong playerId, string playerName, ushort level, sbyte alignmentSide, sbyte breed, Types.GuildInformations guildInfo, ushort moodSmileyId, Types.PlayerStatus status)
         : base(accountId, accountTag, playerState, lastConnection, achievementPoints, leagueId, ladderPosition)
        {
            this.sex = sex;
            this.havenBagShared = havenBagShared;
            this.playerId = playerId;
            this.playerName = playerName;
            this.level = level;
            this.alignmentSide = alignmentSide;
            this.breed = breed;
            this.guildInfo = guildInfo;
            this.moodSmileyId = moodSmileyId;
            this.status = status;
        }
        
        public override void Serialize(IDataWriter writer)
        {
            base.Serialize(writer);
            byte flag1 = 0;
            flag1 = BooleanByteWrapper.SetFlag(flag1, 0, sex);
            flag1 = BooleanByteWrapper.SetFlag(flag1, 1, havenBagShared);
            writer.WriteByte(flag1);
            writer.WriteVarULong(playerId);
            writer.WriteUTF(playerName);
            writer.WriteVarUShort(level);
            writer.WriteSByte(alignmentSide);
            writer.WriteSByte(breed);
            guildInfo.Serialize(writer);
            writer.WriteVarUShort(moodSmileyId);
            writer.WriteShort(status.TypeId);
            status.Serialize(writer);
        }
        
        public override void Deserialize(IDataReader reader)
        {
            base.Deserialize(reader);
            byte flag1 = reader.ReadByte();
            sex = BooleanByteWrapper.GetFlag(flag1, 0);
            havenBagShared = BooleanByteWrapper.GetFlag(flag1, 1);
            playerId = reader.ReadVarULong();
            playerName = reader.ReadUTF();
            level = reader.ReadVarUShort();
            alignmentSide = reader.ReadSByte();
            breed = reader.ReadSByte();
            guildInfo = new Types.GuildInformations();
            guildInfo.Deserialize(reader);
            moodSmileyId = reader.ReadVarUShort();
            status = Types.ProtocolTypeManager.GetInstance<Types.PlayerStatus>(reader.ReadShort());
            status.Deserialize(reader);
        }
    }
}