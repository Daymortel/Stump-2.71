

//Generated by Kenshin
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Stump.Core.IO;

namespace Stump.DofusProtocol.Types
{
    public class GameRolePlayNpcQuestFlag
    {
        public const short Id = 6705;
        public virtual short TypeId
        {
            get { return Id; }
        }
        
        public IEnumerable<ushort> questsToValidId;
        public IEnumerable<ushort> questsToStartId;
        
        public GameRolePlayNpcQuestFlag()
        {
        }
        
        public GameRolePlayNpcQuestFlag(IEnumerable<ushort> questsToValidId, IEnumerable<ushort> questsToStartId)
        {
            this.questsToValidId = questsToValidId;
            this.questsToStartId = questsToStartId;
        }
        
        public virtual void Serialize(IDataWriter writer)
        {
            writer.WriteShort((short)questsToValidId.Count());
            foreach (var objectToSend in questsToValidId)
            {
                 writer.WriteVarUShort(objectToSend);
            }
            writer.WriteShort((short)questsToStartId.Count());
            foreach (var objectToSend in questsToStartId)
            {
                 writer.WriteVarUShort(objectToSend);
            }
        }
        
        public virtual void Deserialize(IDataReader reader)
        {
            var questsToValidIdCount = reader.ReadUShort();
            var questsToValidId_ = new ushort[questsToValidIdCount];
            for (var questsToValidIdIndex = 0; questsToValidIdIndex < questsToValidIdCount; questsToValidIdIndex++)
            {
                 questsToValidId_[questsToValidIdIndex] = reader.ReadVarUShort();
            }
            questsToValidId = questsToValidId_;
            var questsToStartIdCount = reader.ReadUShort();
            var questsToStartId_ = new ushort[questsToStartIdCount];
            for (var questsToStartIdIndex = 0; questsToStartIdIndex < questsToStartIdCount; questsToStartIdIndex++)
            {
                 questsToStartId_[questsToStartIdIndex] = reader.ReadVarUShort();
            }
            questsToStartId = questsToStartId_;
        }
    }
}