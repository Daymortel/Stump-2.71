

//Generated by Kenshin
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Stump.Core.IO;

namespace Stump.DofusProtocol.Types
{
    public class TaxCollectorInformations
    {
        public const short Id = 3347;
        public virtual short TypeId
        {
            get { return Id; }
        }
        
        public double uniqueId;
        public ushort firstNameId;
        public ushort lastNameId;
        public Types.AllianceInformation allianceIdentity;
        public Types.AdditionalTaxCollectorInformation additionalInfos;
        public short worldX;
        public short worldY;
        public ushort subAreaId;
        public sbyte state;
        public Types.EntityLook look;
        public IEnumerable<Types.TaxCollectorComplementaryInformations> complements;
        public Types.CharacterCharacteristics characteristics;
        public IEnumerable<Types.ObjectItem> equipments;
        public IEnumerable<Types.TaxCollectorOrderedSpell> spells;
        
        public TaxCollectorInformations()
        {
        }
        
        public TaxCollectorInformations(double uniqueId, ushort firstNameId, ushort lastNameId, Types.AllianceInformation allianceIdentity, Types.AdditionalTaxCollectorInformation additionalInfos, short worldX, short worldY, ushort subAreaId, sbyte state, Types.EntityLook look, IEnumerable<Types.TaxCollectorComplementaryInformations> complements, Types.CharacterCharacteristics characteristics, IEnumerable<Types.ObjectItem> equipments, IEnumerable<Types.TaxCollectorOrderedSpell> spells)
        {
            this.uniqueId = uniqueId;
            this.firstNameId = firstNameId;
            this.lastNameId = lastNameId;
            this.allianceIdentity = allianceIdentity;
            this.additionalInfos = additionalInfos;
            this.worldX = worldX;
            this.worldY = worldY;
            this.subAreaId = subAreaId;
            this.state = state;
            this.look = look;
            this.complements = complements;
            this.characteristics = characteristics;
            this.equipments = equipments;
            this.spells = spells;
        }
        
        public virtual void Serialize(IDataWriter writer)
        {
            writer.WriteDouble(uniqueId);
            writer.WriteVarUShort(firstNameId);
            writer.WriteVarUShort(lastNameId);
            allianceIdentity.Serialize(writer);
            additionalInfos.Serialize(writer);
            writer.WriteShort(worldX);
            writer.WriteShort(worldY);
            writer.WriteVarUShort(subAreaId);
            writer.WriteSByte(state);
            look.Serialize(writer);
            writer.WriteShort((short)complements.Count());
            foreach (var objectToSend in complements)
            {
                 writer.WriteShort(objectToSend.TypeId);
                 objectToSend.Serialize(writer);
            }
            characteristics.Serialize(writer);
            writer.WriteShort((short)equipments.Count());
            foreach (var objectToSend in equipments)
            {
                 objectToSend.Serialize(writer);
            }
            writer.WriteShort((short)spells.Count());
            foreach (var objectToSend in spells)
            {
                 objectToSend.Serialize(writer);
            }
        }
        
        public virtual void Deserialize(IDataReader reader)
        {
            uniqueId = reader.ReadDouble();
            firstNameId = reader.ReadVarUShort();
            lastNameId = reader.ReadVarUShort();
            allianceIdentity = new Types.AllianceInformation();
            allianceIdentity.Deserialize(reader);
            additionalInfos = new Types.AdditionalTaxCollectorInformation();
            additionalInfos.Deserialize(reader);
            worldX = reader.ReadShort();
            worldY = reader.ReadShort();
            subAreaId = reader.ReadVarUShort();
            state = reader.ReadSByte();
            look = new Types.EntityLook();
            look.Deserialize(reader);
            var complementsCount = reader.ReadUShort();
            var complements_ = new Types.TaxCollectorComplementaryInformations[complementsCount];
            for (var complementsIndex = 0; complementsIndex < complementsCount; complementsIndex++)
            {
                 var objectToAdd = Types.ProtocolTypeManager.GetInstance<Types.TaxCollectorComplementaryInformations>(reader.ReadShort());
                 objectToAdd.Deserialize(reader);
                 complements_[complementsIndex] = objectToAdd;
            }
            complements = complements_;
            characteristics = new Types.CharacterCharacteristics();
            characteristics.Deserialize(reader);
            var equipmentsCount = reader.ReadUShort();
            var equipments_ = new Types.ObjectItem[equipmentsCount];
            for (var equipmentsIndex = 0; equipmentsIndex < equipmentsCount; equipmentsIndex++)
            {
                 var objectToAdd = new Types.ObjectItem();
                 objectToAdd.Deserialize(reader);
                 equipments_[equipmentsIndex] = objectToAdd;
            }
            equipments = equipments_;
            var spellsCount = reader.ReadUShort();
            var spells_ = new Types.TaxCollectorOrderedSpell[spellsCount];
            for (var spellsIndex = 0; spellsIndex < spellsCount; spellsIndex++)
            {
                 var objectToAdd = new Types.TaxCollectorOrderedSpell();
                 objectToAdd.Deserialize(reader);
                 spells_[spellsIndex] = objectToAdd;
            }
            spells = spells_;
        }
    }
}