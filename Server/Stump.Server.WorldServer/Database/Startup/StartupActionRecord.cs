using System.Collections.Generic;
using Stump.Core.Reflection;
using Stump.ORM;
using Stump.ORM.SubSonic.SQLGeneration.Schema;
using Stump.Server.WorldServer.Game.Items;

namespace Stump.Server.WorldServer.Database.Startup
{
    [TableName("startup_actions")]
    public sealed class StartupActionRecord : IAutoGeneratedRecord
    {
        private System.Collections.Generic.List<StartupActionItemRecord> m_items;

        public int Id
        {
            get;
            set;
        }

        public string Title
        {
            get;
            set;
        }

        public string Text
        {
            get;
            set;
        }

        public string DescUrl
        {
            get;
            set;
        }

        public string PictureUrl
        {
            get;
            set;
        }

        [Ignore]
        public List<StartupActionItemRecord> Items
        {
            get
            {
                List<StartupActionItemRecord> arg_23_0;
                if ((arg_23_0 = m_items) == null)
                {
                    arg_23_0 = m_items = Singleton<ItemManager>.Instance.FindStartupItems(Id);
                }
                return arg_23_0;
            }
        }
    }
}
